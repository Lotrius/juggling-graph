(window["webpackJsonpjuggling-graph"]=window["webpackJsonpjuggling-graph"]||[]).push([[5],{365:function(e,a,t){"use strict";t.r(a);var n=t(49),r=t(50),i=t(52),o=t(51),c=t(53),s=t(1),l=t.n(s),g=t(357),u=t(364),h=t(359),d=t(363),p=t(367),v=t(360),m=t(58),b=t.n(m),y=(t(185),void 0),f=function(e){var a=e.averageDate;return l.a.createElement("div",null,l.a.createElement(b.a,{selected:a,onChange:function(e){return y.props.getAverageData(e)},dateFormat:"MM/yyyy",showMonthYearPicker:!0}))},D=t(16),x=[],A=function(e){function a(){var e;return Object(n.a)(this,a),(e=Object(i.a)(this,Object(o.a)(a).call(this))).getAverageData=function(a){var t=a.getFullYear().toString(),n=(a.getMonth()+1).toString();1===n.length&&(n="0"+n);var r=t+"-"+n;fetch("https://obscure-river-59718.herokuapp.com/averagegraph",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({selectedMonth:r})}).then(function(e){return e.json()}).then(function(t){x=t.map(function(e){return{x:e.to_char.substring(8,10),y:parseFloat(e.avg)}}),e.setState({dailyAverageData:x,averageDate:a})})},e.state={dailyAverageData:x,averageDate:new Date},e}return Object(c.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){var e=this.props,a=e.xPadding,t=e.yPadding,n=["January","February","March","April","May","June","July","August","September","October","November","December"][this.state.averageDate.getMonth()];return l.a.createElement("div",{className:"mw6 center"},l.a.createElement(g.a,{theme:u.a.material,domainPadding:{x:[50,90]},containerComponent:l.a.createElement(h.a,{labels:function(e){var a=e.datum;return"".concat(a.x," average: ").concat(+a.y.toFixed(2)," catches")},voronoiBlacklist:["points"]})},l.a.createElement(d.a,{text:"Average catches ".concat(n),x:180,y:30,textAnchor:"middle"}),l.a.createElement(p.a,{style:{axisLabel:{padding:a},axis:{padding:100}},label:"Day",fixLabelOverlap:!0,tickValues:0===x.length?[0,1]:x.map(function(e){return e.x})}),l.a.createElement(p.a,{style:{axisLabel:{padding:t}},dependentAxis:!0,label:"Average Catches",fixLabelOverlap:!0,tickValues:0===x.length?[0,1]:[]}),l.a.createElement(v.a,{data:x,animate:{duration:1e3,onLoad:{duration:0}}})),l.a.createElement(f,{getAverageData:this.getAverageData,averageDate:this.state.averageDate}))}},{key:"componentDidMount",value:function(){this.getAverageData(this.state.averageDate),this.props.changeCurrentPath(this.props.location.pathname)}}]),a}(s.Component);a.default=Object(D.g)(A)}}]);
//# sourceMappingURL=5.7860330f.chunk.js.map