(window["webpackJsonpjuggling-graph"]=window["webpackJsonpjuggling-graph"]||[]).push([[6],{362:function(t,e,a){"use strict";a.r(e);var n=a(49),r=a(50),i=a(52),c=a(51),s=a(53),o=a(1),l=a.n(o),u=a(357),p=a(364),h=a(359),d=a(363),m=a(367),g=a(358),f=a(361),b=a(58),y=a.n(b),v=(a(185),function(t){function e(){return Object(n.a)(this,e),Object(i.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(s.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this,e=this.props.date;return l.a.createElement("div",null,l.a.createElement(y.a,{selected:e,onChange:function(e){return t.props.setDate(e)}}))}}]),e}(o.Component)),D=function(t){function e(){var t,a;Object(n.a)(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(a=Object(i.a)(this,(t=Object(c.a)(e)).call.apply(t,[this].concat(s)))).submitData=function(t){t.preventDefault();var e=parseInt(a.refs.input.value,10);isNaN(e)?a.refs.input.value="":(a.refs.input.value="",a.props.updateDailyData(e))},a}return Object(s.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this.props.guest;return l.a.createElement("form",{onSubmit:this.submitData},l.a.createElement("div",{className:""},l.a.createElement("div",null,l.a.createElement("input",{className:"f6 input-reset fl black-80  pa3 lh-solid w-100 w-75-m w-80-l br2-ns br--left-ns b--black ".concat("true"===t?"bg-moon-gray":"bg-white"),type:"text",placeholder:"Number of catches",ref:"input",disabled:"true"===t||null})),l.a.createElement("div",null,l.a.createElement("input",{className:"f6 button-reset fl pv3 tc bn bg-green hover-bg-green white w-100 w-25-m w-20-l br2-ns br--right-ns ".concat("true"===t?null:"pointer"),type:"submit",value:"Add",disabled:"true"===this.props.guest||null}))))}}]),e}(o.Component),E=a(16),j=[],w=function(t){function e(){var t;return Object(n.a)(this,e),(t=Object(i.a)(this,Object(c.a)(e).call(this))).removeNoise=function(t,e){for(var a=t.slice(1).map(function(t){return t.y}),n=a.length,r=[0],i=0,c=0;c<n;c++)c%e||0===c||(r.push(i/e),i=0),i+=a[c],c===n-1&&r.push(i/(n%e));return r},t.stringifyDate=function(t){var e=t.getFullYear().toString(),a=(t.getMonth()+1).toString(),n=t.getDate().toString();return 1===a.length&&(a="0"+a),1===n.length&&(n="0"+n),"".concat(e,"-").concat(a,"-").concat(n)},t.setDate=function(e){t.setState({date:e},function(){return t.changeGraph(e)})},t.changeGraph=function(e){var a=e.getFullYear().toString(),n=(e.getMonth()+1).toString(),r=e.getDate().toString();1===n.length&&(n="0"+n),1===r.length&&(r="0"+r);var i="".concat(a,"-").concat(n,"-").concat(r);fetch("https://obscure-river-59718.herokuapp.com/dailygraph",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({newDate:i})}).then(function(t){return t.json()}).then(function(e){j=[{x:0,y:0}].concat(e.map(function(t,e){return{x:e+1,y:parseInt(t.catches)}})),t.setState({dailyData:j})})},t.updateDailyData=function(e){fetch("https://obscure-river-59718.herokuapp.com/dailyupdate",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({catches:e})}).then(function(t){return t.json()}).then(function(e){return t.setState({date:new Date},function(){return t.changeGraph(t.state.date)}),e}).then(function(e){j.push({x:j.length,y:e.catches}),t.setState({dailyData:j})})},t.state={dailyData:j,date:new Date},t}return Object(s.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.setDate(this.state.date),this.props.changeCurrentPath(this.props.location.pathname)}},{key:"render",value:function(){var t=this.props,e=t.xPadding,a=t.yPadding,n=[];j.length>1&&(n=this.removeNoise(j,5).map(function(t,e){return{x:5*e,y:t}}));var r=this.stringifyDate(this.state.date);return j=this.state.dailyData,l.a.createElement("div",{className:"flex justify-center"},l.a.createElement("div",{className:"mr5",style:{width:"600px"}},l.a.createElement(u.a,{className:"mt6",theme:p.a.material,domainPadding:{x:[0,70]},containerComponent:l.a.createElement(h.a,{labels:function(t){var e=t.datum;return"Attempt ".concat(e.x,": ").concat(e.y," catches")},voronoiBlacklist:["points","noise"]}),style:{parent:{maxWidth:"200%"}}},l.a.createElement(d.a,{text:"Catches ".concat(r),x:180,y:30,textAnchor:"middle"}),l.a.createElement(m.a,{style:{axisLabel:{padding:e},axis:{padding:100}},label:"Attempt",tickValues:1===j.length?[0,1]:[]}),l.a.createElement(m.a,{style:{axisLabel:{padding:a}},dependentAxis:!0,label:"Catches",tickValues:1===j.length?[0,1]:[]}),l.a.createElement(g.a,{data:j,animate:{duration:1e3,onLoad:{duration:2e3}}}),l.a.createElement(g.a,{name:"noise",data:n,style:{data:{stroke:"#c43a31"}},animate:{duration:1e3,onLoad:{duration:2e3}}}),l.a.createElement(f.a,{name:"points",data:j,animate:{duration:1e3,onLoad:{duration:2e3}}}))),l.a.createElement("div",{className:"mt5",style:{width:"300px"}},l.a.createElement("div",{className:"center"},l.a.createElement("div",{className:"mb3 overflow-auto"},l.a.createElement(D,{guest:this.props.guest,updateDailyData:this.updateDailyData})),l.a.createElement("div",null,l.a.createElement(v,{setDate:this.setDate,date:this.state.date})))))}}]),e}(o.Component);e.default=Object(E.g)(w)}}]);
//# sourceMappingURL=6.2198babe.chunk.js.map