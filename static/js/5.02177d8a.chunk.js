(window["webpackJsonpjuggling-graph"]=window["webpackJsonpjuggling-graph"]||[]).push([[5],{360:function(e,t,a){"use strict";a.r(t);var n=a(15),r=a(16),l=a(18),s=a(17),i=a(19),c=a(0),o=a.n(c),g=a(353),d=a(359),u=a(358),m=a(362),h=a(355),b=a(364),p=a(119),y=a.n(p),v=(a(134),function(e){var t=e.averageDate,a=e.setDate;return o.a.createElement("div",null,o.a.createElement(y.a,{className:"br3 pl2 blue bg-light-gray",selected:t,onChange:function(e){return a(e)},dateFormat:"MM/yyyy",showMonthYearPicker:!0}))}),x=a(6),f=(a(92),[]),k=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(l.a)(this,Object(s.a)(t).call(this))).getStyles=function(e,t){return{xAxis:{axisLabel:{padding:e,fill:"black"},axis:{padding:100,stroke:"black"},tickLabels:{fill:"black"},ticks:{stroke:"black"}},yAxis:{axisLabel:{padding:t,fill:"black"},axis:{stroke:"black"},tickLabels:{fill:"black"},ticks:{stroke:"black"}},average:{data:{stroke:"#c43a31"}}}},e.setDate=function(t){sessionStorage.setItem("avgdate",t),e.getAverageData(new Date(sessionStorage.getItem("avgdate")))},e.getAverageData=function(t){var a=t.getFullYear().toString(),n=(t.getMonth()+1).toString();1===n.length&&(n="0"+n);var r=a+"-"+n;fetch("http://localhost:3000/averagegraph",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({selectedMonth:r})}).then(function(e){return e.json()}).then(function(t){f=t.map(function(e){return{x:parseInt(e.to_char.substring(8,10)),y:parseFloat(e.avg)}}),e.setState({dailyAverageData:f})})},e.state={dailyAverageData:f},e}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){sessionStorage.getItem("avgdate")&&this.setDate(new Date(sessionStorage.getItem("avgdate"))),this.props.changeCurrentPath(this.props.location.pathname)}},{key:"render",value:function(){var e=this.props,t=e.xPadding,a=e.yPadding,n=new Date(sessionStorage.getItem("avgdate")),r=["January","February","March","April","May","June","July","August","September","October","November","December"][n.getMonth()],l=this.getStyles(t,a);return o.a.createElement("div",{className:"mt3 flex justify-center"},o.a.createElement("div",{className:"cont flex justify-center mt2 mb3 pl3 pr3 ba bw1",style:{backgroundColor:"#ECD9BA"}},o.a.createElement("div",{className:"chart mr3",style:{width:"600px"}},o.a.createElement(g.a,{theme:d.a.material,domainPadding:{x:[50,30],y:[50,30]}},o.a.createElement(u.a,{text:"Average catches ".concat(r),x:180,y:30,textAnchor:"middle"}),o.a.createElement(m.a,{style:l.xAxis,label:"Day",fixLabelOverlap:!0}),o.a.createElement(m.a,{style:l.yAxis,dependentAxis:!0,label:"Average Catches",fixLabelOverlap:!0}),o.a.createElement(u.a,{text:"No data available",x:180,y:180,textAnchor:"middle",style:0===f.length?null:{display:"none",zIndex:"100"}}),o.a.createElement(h.a,{data:f,labels:function(e){var t=e.datum;return"".concat(t.x," average: ").concat(+t.y.toFixed(2)," catches")},labelComponent:o.a.createElement(b.a,{constrainToVisibleArea:!0}),animate:{duration:1e3,onLoad:{duration:0}}}))),o.a.createElement("div",{className:"date ml3 mt5 center",style:{width:"225px"}},o.a.createElement("h3",null,"Select date:"),o.a.createElement(v,{setDate:this.setDate,averageDate:n}))))}}]),t}(c.Component);t.default=Object(x.g)(k)},92:function(e,t,a){}}]);
//# sourceMappingURL=5.02177d8a.chunk.js.map