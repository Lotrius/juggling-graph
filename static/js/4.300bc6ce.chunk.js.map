{"version":3,"sources":["Components/DateSelect.js","Components/DataEntryField.js","Components/DailyChart.js"],"names":["DateSelect","date","this","props","className","selected","onChange","setDate","Component","DataEntryField","submitData","event","preventDefault","num","parseInt","refs","input","value","isNaN","updateDailyData","guest","onSubmit","style","outline","type","placeholder","ref","disabled","dailyData","DailyChart","getStyles","xPadding","yPadding","xAxis","axisLabel","padding","fill","axis","stroke","tickLabels","ticks","yAxis","average","data","removeNoise","chunk","catchPoints","slice","map","val","y","length","deletedNoiseArray","acc","i","push","stringifyDate","year","getFullYear","toString","month","getMonth","day","getDate","sessionStorage","setItem","getDailyData","Date","getItem","fullDate","fetch","method","headers","body","JSON","stringify","newDate","then","response","json","x","concat","index","catches","setState","res","state","changeCurrentPath","location","pathname","ind","currentDate","titleDate","isThereData","reduce","toFixed","styles","backgroundColor","theme","VictoryTheme","material","domainPadding","text","textAnchor","label","fixLabelOverlap","dependentAxis","display","zIndex","animate","duration","onLoad","name","labels","datum","labelComponent","constrainToVisibleArea","withRouter"],"mappings":"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","file":"static/js/4.300bc6ce.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport DatePicker from 'react-datepicker';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nclass DateSelect extends Component {\r\n  render() {\r\n    const { date } = this.props;\r\n\r\n    return (\r\n      <div >\r\n        <DatePicker\r\n          className='br3 pl2 blue bg-light-gray'\r\n          selected={date}\r\n          onChange={date => this.props.setDate(date)} />\r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default DateSelect;","import React, { Component } from 'react';\r\nimport './Input.css'\r\n\r\nclass DataEntryField extends Component {\r\n    render() {\r\n        const { guest } = this.props;\r\n\r\n        return (\r\n            // Form\r\n            <form onSubmit={this.submitData}>\r\n                <div className=''>\r\n\r\n                    {/* Input field */}\r\n                    <div>\r\n                        <input\r\n                            className={`f6 mb2 input-reset fl black-80 pa3 lh-solid w-100 w-75-m w-80-l br3 b--black ${guest === 'true' ? 'bg-moon-gray' : 'bg-white'}`}\r\n                            style={{outline: 'none'}}\r\n                            type='number'\r\n                            placeholder={`Number of catches ${guest === 'true' ? '(disabled as guest)' : ''}`}\r\n                            ref=\"input\"\r\n                            disabled={guest === 'true' ? true : null}\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Submit button */}\r\n                    <div>\r\n                        <input\r\n                            className={`f6 button-reset pv3 tc bn bg-green hover-bg-green white w-50 w-25-m w-20-l br3 ${guest === 'true' ? null : 'pointer'}`}\r\n                            style={{outline: 'none'}}\r\n                            type='submit'\r\n                            value='Add'\r\n                            disabled={guest === 'true' ? true : null}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        );\r\n    }\r\n\r\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n    // When data is entered into the input field\r\n    submitData = (event) => {\r\n        event.preventDefault(); // Prevent page from refreshing when submitted\r\n\r\n        const num = parseInt(this.refs.input.value, 10); // Get value\r\n\r\n        // If value is actually a number update daily data and clear text field\r\n        // Otherwise just clear text field and nothing else\r\n        if (isNaN(num)) {\r\n            this.refs.input.value = '';\r\n        } else {\r\n            this.refs.input.value = '';\r\n            this.props.updateDailyData(num);\r\n        }\r\n    }\r\n}\r\n\r\nexport default DataEntryField;","import React, { Component } from 'react';\r\nimport { VictoryTheme, VictoryChart, VictoryLine, VictoryAxis, VictoryScatter, VictoryLabel, VictoryTooltip } from 'victory';\r\nimport DateSelect from '../Components/DateSelect';\r\nimport DataEntryField from './DataEntryField';\r\nimport { withRouter } from 'react-router-dom';\r\nimport './Chart.css'\r\n\r\nlet dailyData = [];\r\n\r\nclass DailyChart extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            dailyData: dailyData,\r\n        }\r\n    }\r\n\r\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n    // Update storage and get data when app opened\r\n    componentDidMount() {\r\n        if (sessionStorage.getItem('date')) {\r\n            this.setDate(new Date(sessionStorage.getItem('date')));\r\n        }\r\n\r\n        this.props.changeCurrentPath(this.props.location.pathname);\r\n    }\r\n\r\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n    render() {\r\n        const { xPadding, yPadding } = this.props; // Padding for charts\r\n\r\n        // Data for average line\r\n        let deletedNoiseArray = [];\r\n        const chunk = 5;\r\n\r\n        // Create average line data\r\n        if (dailyData.length > 1) {\r\n            deletedNoiseArray = this.removeNoise(dailyData, chunk).map((val, ind) => ({ x: (ind) * 5, y: val }));\r\n        }\r\n\r\n        const currentDate = new Date(sessionStorage.getItem('date')); // Current presented date\r\n\r\n        const titleDate = this.stringifyDate(currentDate); // Date for title\r\n\r\n        dailyData = this.state.dailyData; // Current data\r\n\r\n        const isThereData = dailyData.length === 1;\r\n\r\n        const average = isThereData ? 0 : (dailyData.reduce((acc, val) => acc + val.y, 0) / (dailyData.length - 1)).toFixed(2); // Average\r\n\r\n        const styles = this.getStyles(xPadding, yPadding); // Chart styles\r\n\r\n        return (\r\n            <div className='mt3 flex justify-center'>\r\n                <div className='cont flex justify-center mt2 mb3 pl3 pr3 ba br3 bw1' style={{ backgroundColor: '#ECD9BA' }}>\r\n\r\n                    <div className='chart mr3 bw1' style={{ 'width': '600px' }}>\r\n                        <VictoryChart\r\n                            className='mt6'\r\n                            theme={VictoryTheme.material}\r\n                            domainPadding={{ x: [0, 30], y: [0, 30] }} // Fix weird cutoff problem sort of   \r\n                        >\r\n\r\n                            {/* Title */}\r\n                            <VictoryLabel\r\n                                text={`Catches ${titleDate}`}\r\n                                x={180}\r\n                                y={30}\r\n                                textAnchor=\"middle\"\r\n                            />\r\n\r\n                            {/* Axes and labels */}\r\n                            <VictoryAxis\r\n                                style={styles.xAxis}\r\n                                label='Attempt'\r\n                                fixLabelOverlap\r\n                            />\r\n                            <VictoryAxis\r\n                                style={styles.yAxis}\r\n                                dependentAxis\r\n                                label='Catches'\r\n                                fixLabelOverlap\r\n                            />\r\n\r\n                            {/* Displays if there is no data available */}\r\n                            <VictoryLabel\r\n                                text='No data available'\r\n                                x={180}\r\n                                y={180}\r\n                                textAnchor='middle'\r\n                                style={isThereData ? null : { display: 'none', zIndex: '100' }}\r\n                            />\r\n\r\n                            {/* Line graph */}\r\n                            <VictoryLine\r\n                                data={isThereData ? [] : dailyData}\r\n                                animate={{\r\n                                    duration: 1000,\r\n                                    onLoad: { duration: 2000 }\r\n                                }}\r\n                            />\r\n\r\n                            {/* Data with noise removed */}\r\n                            <VictoryLine\r\n                                name='noise'\r\n                                data={deletedNoiseArray}\r\n                                style={styles.average}\r\n                                animate={{\r\n                                    duration: 1000,\r\n                                    onLoad: { duration: 2000 }\r\n                                }}\r\n                            />\r\n\r\n                            {/* Scatter plot */}\r\n                            <VictoryScatter\r\n                                name='points'\r\n                                data={isThereData ? [] : dailyData}\r\n                                labels={({ datum }) => `Attempt ${datum.x}: ${datum.y} catches`} // Component allows hovering over data for information\r\n                                labelComponent={<VictoryTooltip constrainToVisibleArea />}\r\n                                animate={{\r\n                                    duration: 1000,\r\n                                    onLoad: { duration: 2000 }\r\n                                }}\r\n                            />\r\n                        </VictoryChart>\r\n                    </div>\r\n\r\n                    {/* Input field and date selector */}\r\n                    <div className='ml3 mt5' style={{ 'width': '300px' }}>\r\n                        <div className='center'>\r\n\r\n                            {/* Enter number field */}\r\n                            <div className='overflow-auto'>\r\n                                <DataEntryField guest={this.props.guest} updateDailyData={this.updateDailyData} />\r\n                            </div>\r\n\r\n                            <div className='mt4'>\r\n                                <h3>Average: {average}</h3>\r\n                            </div>\r\n\r\n                            {/* Date picker */}\r\n                            <div className='date mt4'>\r\n                                <h3>Select date:</h3>\r\n                                <DateSelect setDate={this.setDate} date={currentDate} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n    getStyles = (xPadding, yPadding) => {\r\n        return {\r\n            xAxis: {\r\n                axisLabel: { padding: xPadding, fill: 'black' },\r\n                axis: { padding: 100, stroke: 'black' },\r\n                tickLabels: { fill: 'black' },\r\n                ticks: { stroke: 'black' }\r\n            },\r\n            yAxis: {\r\n                axisLabel: { padding: yPadding, fill: 'black' },\r\n                axis: { stroke: 'black' },\r\n                tickLabels: { fill: 'black' },\r\n                ticks: { stroke: 'black' }\r\n            },\r\n            average: {\r\n                data: { stroke: \"#c43a31\" }\r\n            }\r\n        }\r\n    }\r\n\r\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n    // Removes noise from data by taking average every chunk-sized chunks\r\n    removeNoise = (data, chunk) => {\r\n        const catchPoints = data.slice(1).map((val) => val.y); // Isolate catch data\r\n        const length = catchPoints.length;\r\n        let deletedNoiseArray = [0]; // Start with zero\r\n        let acc = 0;\r\n\r\n        // Remove noise\r\n        for (var i = 0; i < length; i++) {\r\n\r\n            // If chunk size is reached, push in average for that chunk\r\n            // and reset the acc to 0\r\n            if (!(i % chunk) && (i !== 0)) {\r\n                deletedNoiseArray.push(acc / chunk);\r\n                acc = 0;\r\n            }\r\n\r\n            // Accumulate sum\r\n            acc += catchPoints[i];\r\n\r\n            // If length is divisible by chunk, just push average for chunk size\r\n            if (!(length % chunk) && (i === length - 1)) {\r\n                deletedNoiseArray.push(acc / (chunk));\r\n            }\r\n\r\n            // Else if we are at the last element, just push in average for however much was left\r\n            else if (i === length - 1) {\r\n                deletedNoiseArray.push(acc / (length % chunk));\r\n            }\r\n        }\r\n\r\n        // Return final array\r\n        return deletedNoiseArray;\r\n    }\r\n\r\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n    // Turn date into a string\r\n    stringifyDate = (date) => {\r\n        // Reformat the date to make it easier to pass into DB/title\r\n        const year = date.getFullYear().toString();\r\n        let month = (date.getMonth() + 1).toString();\r\n        let day = date.getDate().toString();\r\n\r\n        if (month.length === 1) {\r\n            month = '0' + month;\r\n        }\r\n\r\n        if (day.length === 1) {\r\n            day = '0' + day;\r\n        }\r\n\r\n        return `${year}-${month}-${day}`;\r\n    }\r\n\r\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n    // Change date to date selected on calendar\r\n    setDate = (date) => {\r\n        sessionStorage.setItem('date', date);\r\n\r\n        this.getDailyData(new Date(sessionStorage.getItem('date')));\r\n    }\r\n\r\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n    // Get graph data for a certain day\r\n    getDailyData = (date) => {\r\n        // Reformat the date to make it easier to pass into DB/title\r\n        const year = date.getFullYear().toString();\r\n        let month = (date.getMonth() + 1).toString();\r\n        let day = date.getDate().toString();\r\n\r\n        if (month.length === 1) {\r\n            month = '0' + month;\r\n        }\r\n\r\n        if (day.length === 1) {\r\n            day = '0' + day;\r\n        }\r\n\r\n        const fullDate = `${year}-${month}-${day}`;\r\n\r\n        // Call to backend to get data\r\n        fetch('https://obscure-river-59718.herokuapp.com/dailygraph', {\r\n            method: 'post', // Can't pass in body if it's a GET\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({\r\n                newDate: fullDate // Pass in the new date\r\n            })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                // Change the dailyData to reflect the new date\r\n                // TODO: Don't set up initial dailyData like this. Idea: update DB to include a 0 catch every day\r\n                dailyData = [{ x: 0, y: 0 }].concat(data.map((num, index) => ({ x: index + 1, y: parseInt(num.catches) })));\r\n                this.setState({ dailyData });\r\n            });\r\n    }\r\n\r\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n    // Update DB/graph when data is input\r\n    updateDailyData = (catches) => {\r\n        fetch('https://obscure-river-59718.herokuapp.com/dailyupdate', {\r\n            method: 'post',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({\r\n                catches: catches\r\n            })\r\n        })\r\n            .then(response => response.json())\r\n            .then((res) => {\r\n                this.setState({ date: new Date() }, () => this.getDailyData(this.state.date));\r\n                return res;\r\n            })\r\n            .then((res) => {\r\n                // Update the state\r\n                // I COULD call getDailyData but that would just take too much time tbh\r\n                // TODO: Is there a better way to do this? Combine this function and getDailyData somehow?\r\n                sessionStorage.setItem('date', new Date());\r\n                dailyData.push({ x: dailyData.length, y: res.catches });\r\n                this.setState({ dailyData });\r\n            });\r\n    }\r\n}\r\n\r\nexport default withRouter(DailyChart);"],"sourceRoot":""}